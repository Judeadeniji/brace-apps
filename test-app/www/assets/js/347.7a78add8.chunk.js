"use strict";(self.webpackChunkBraceJs=self.webpackChunkBraceJs||[]).push([[347],{6347:(e,t,a)=>{a.r(t),a.d(t,{Metadata:()=>c,cache:()=>s,default:()=>d});var r=a(7336),n=a(1929);const s=!1;function c(){return{title:"Test App For use() Hook",description:"Testing the use() hook in Mejor Framework"}}function l(){const e=(0,r.useData)(1);console.log(e),alert(`current page ${e}`);const{data:t,error:a,invalidate:n}=(0,r.use)(function(e=1){const t=5*(e-1),a=Math.min(t+5,27),r=[];for(let e=t;e<a;e++)r.push({id:e+1,title:`Item ${e+1}`,description:`Description for Item ${e+1}`});return new Promise(((t,a)=>{Math.floor(10*Math.random()),setTimeout((function(){t({items:r,currentPage:e,totalPages:Math.ceil(5.4)})}),900)}))}(e?.value||1)),s=(0,r.useRef)(n);(0,r.useEffect)((()=>{s.current=n}),[n]);const c=()=>{s.current({silent:!1})};return(0,r.useEffect)((()=>e?.subscribe?e.subscribe(c):void 0),[e?.value||1]),createElement("div",{class:"grid gap-4 mt-4"},t?createElement("div",{class:"rounded border h-[500px]",key:"data"},t.items.map((e=>createElement("div",{key:e.id,class:"m-1 p-4 rounded"},createElement("h1",{class:"text-xl font-bold"},e.title),createElement("p",{class:"mt-2"},e.description))))):a?createElement("div",{class:"border p-4 rounded text-red-500 flex font-semibold justify-center items-center text-md h-[500px]"},a):createElement("div",{class:"border flex justify-center items-center text-md p-4 rounded h-[500px]"},"Loading..."),createElement("p",{class:"text-center"},"Current Page: ",e?.value||1),createElement("p",{class:"text-center"},"Total Pages: ",27),createElement(o,{handleRefresh:c,handlePrevPage:()=>{e.update((e=>Math.max(e-1,1)))},handleNextPage:()=>{e.update((e=>e+1))},data:t}))}function o({handleRefresh:e,handlePrevPage:t,handleNextPage:a,data:r}){return createElement("div",{class:"flex items-center justify-between flex-nowrap mt-4"},createElement("button",{class:"border border-gray-300 rounded p-2 disabled:opacity-50","on:click":t,disabled:!r?.currentPage||1===r?.currentPage},"Previous Page"),createElement("button",{class:"border border-gray-300 rounded p-2 disabled:opacity-50","on:click":a,disabled:r?.currentPage===r?.totalPages},"Next Page"),createElement("button",{class:"border border-gray-300 rounded p-2 disabled:opacity-50","on:click":e},"Refresh Data"))}const d=(0,r.Component)((function(){return createElement("div",{key:"App",class:"mx-auto max-w-3xl px-4"},createElement("h1",{class:"text-3xl font-bold mt-3"},"Mock Data List"),createElement(n.Link,{to:"/page-with-signal"},"Try with Signals"),createElement(l,null))}))}}]);